---
phase: 01-foundation
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - bambini-fussball/.gitignore
  - bambini-fussball/wrangler.toml
autonomous: false

must_haves:
  truths:
    - "Code is pushed to GitHub repository"
    - "Cloudflare Pages deployment succeeds"
    - "Website is accessible via HTTPS URL"
    - "Trailing slash URLs work in production"
  artifacts:
    - path: "bambini-fussball/.gitignore"
      provides: "Git ignore rules for Node and Astro"
      contains: "node_modules"
    - path: "GitHub repository"
      provides: "Remote repository for code and deployment"
      type: "external"
    - path: "Cloudflare Pages project"
      provides: "Hosting with automatic deployments"
      type: "external"
  key_links:
    - from: "GitHub repository"
      to: "Cloudflare Pages"
      via: "Git integration"
      pattern: "automatic deploy on push"
    - from: "Cloudflare Pages"
      to: "HTTPS"
      via: "automatic SSL"
      pattern: "*.pages.dev"
---

<objective>
Deploy the Astro project to Cloudflare Pages via GitHub with automatic HTTPS.

Purpose: Enable the website to be publicly accessible with secure HTTPS connection and automatic deployments on code push.

Output: Live website on Cloudflare Pages (*.pages.dev domain) with HTTPS enabled, automatic deployments configured from GitHub main branch.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Git and create GitHub repository</name>
  <files>
    bambini-fussball/.gitignore
  </files>
  <action>
    1. Ensure .gitignore exists in bambini-fussball/ with standard Astro ignores:
       ```
       # Dependencies
       node_modules/

       # Build output
       dist/
       .astro/

       # Environment
       .env
       .env.*
       !.env.example

       # Editor
       .vscode/
       .idea/

       # OS
       .DS_Store
       Thumbs.db

       # Logs
       *.log
       npm-debug.log*
       ```
    2. Initialize git in bambini-fussball/ directory: `git init`
    3. Create initial commit:
       - `git add .`
       - `git commit -m "feat: initial Astro project with Tailwind CSS 4"`
    4. Create GitHub repository using gh CLI:
       - `gh repo create bambini-fussball-de --public --source=. --remote=origin`
       - If gh not authenticated, will trigger auth gate
    5. Push to GitHub:
       - `git push -u origin main`

    Technical notes:
    - Repository name: bambini-fussball-de (clear, SEO-friendly)
    - Public repository (required for free Cloudflare Pages)
    - Main branch for production deployments
  </action>
  <verify>
    - .gitignore contains node_modules/ and dist/
    - `git log` shows initial commit
    - `gh repo view` shows repository exists on GitHub
    - `git remote -v` shows origin pointing to GitHub
  </verify>
  <done>
    Git repository initialized, code committed, GitHub repository created, code pushed to origin/main
  </done>
</task>

<task type="auto">
  <name>Task 2: Configure Cloudflare Pages deployment</name>
  <files>
    bambini-fussball/wrangler.toml
  </files>
  <action>
    1. Create wrangler.toml in bambini-fussball/ for Cloudflare Pages configuration:
       ```toml
       name = "bambini-fussball"
       compatibility_date = "2024-01-01"
       pages_build_output_dir = "dist"

       [build]
       command = "npm run build"
       ```
    2. Commit and push wrangler.toml:
       - `git add wrangler.toml`
       - `git commit -m "chore: add Cloudflare Pages configuration"`
       - `git push`
    3. Connect GitHub repo to Cloudflare Pages:
       - Use Cloudflare dashboard OR wrangler CLI
       - Via CLI: `npx wrangler pages project create bambini-fussball`
       - Then: `npx wrangler pages deploy dist --project-name=bambini-fussball`
       - OR via dashboard: Pages > Create project > Connect to Git > Select repo
    4. Configure build settings in Cloudflare:
       - Framework preset: Astro
       - Build command: npm run build
       - Build output directory: dist
       - Node.js version: 20 (or latest LTS)

    Technical notes:
    - Static site needs no adapter (output: 'static' in astro.config.mjs)
    - Cloudflare Pages auto-detects Astro and configures correctly
    - Free tier includes HTTPS on *.pages.dev domain
    - GitHub integration enables automatic deploys on push
  </action>
  <verify>
    - wrangler.toml exists with correct build settings
    - Cloudflare Pages project created
    - Build command is "npm run build"
    - Output directory is "dist"
  </verify>
  <done>
    Cloudflare Pages project configured, connected to GitHub repository, build settings correct
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    GitHub repository with Astro project and Cloudflare Pages deployment configured for automatic builds.
  </what-built>
  <how-to-verify>
    1. Visit the Cloudflare Pages URL (shown in deployment output, format: bambini-fussball.pages.dev or similar)
    2. Verify:
       - Page loads successfully (not 404 or error)
       - HTTPS is active (padlock icon in browser)
       - Tailwind styling is applied (not unstyled HTML)
       - Page content matches local dev server
    3. Test trailing slash:
       - Navigate to https://[your-domain].pages.dev/test
       - Should redirect to /test/ (trailing slash)
    4. Check Cloudflare dashboard:
       - Pages > bambini-fussball > Deployments
       - Latest deployment shows "Success"
  </how-to-verify>
  <resume-signal>Type "approved" if site is live with HTTPS, or describe any issues</resume-signal>
</task>

</tasks>

<verification>
1. GitHub repository exists and contains latest code
2. Cloudflare Pages deployment completed successfully
3. Website accessible via HTTPS (*.pages.dev domain)
4. Automatic deployment triggers on git push
5. Trailing slash URLs work correctly in production
</verification>

<success_criteria>
1. Code is version-controlled in GitHub repository
2. Cloudflare Pages shows successful deployment
3. Website is publicly accessible via HTTPS URL
4. `git push` triggers automatic rebuild and deploy
5. URLs follow clean pattern with trailing slashes in production
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-02-SUMMARY.md`
</output>
