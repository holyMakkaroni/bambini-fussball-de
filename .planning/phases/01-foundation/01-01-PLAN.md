---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - bambini-fussball/package.json
  - bambini-fussball/astro.config.mjs
  - bambini-fussball/src/content.config.ts
  - bambini-fussball/src/layouts/BaseLayout.astro
  - bambini-fussball/src/pages/index.astro
  - bambini-fussball/src/styles/global.css
  - bambini-fussball/tsconfig.json
autonomous: true

must_haves:
  truths:
    - "Astro dev server starts without errors"
    - "Tailwind CSS classes render correctly in browser"
    - "URLs use trailing slashes (/trainer/ not /trainer)"
    - "Content collection structure exists for trainer, eltern, vereine"
  artifacts:
    - path: "bambini-fussball/package.json"
      provides: "Project dependencies including Astro and Tailwind"
      contains: "@tailwindcss/vite"
    - path: "bambini-fussball/astro.config.mjs"
      provides: "Astro configuration with trailingSlash"
      contains: "trailingSlash: 'always'"
    - path: "bambini-fussball/src/content.config.ts"
      provides: "Content collection schema definitions"
      contains: "defineCollection"
    - path: "bambini-fussball/src/layouts/BaseLayout.astro"
      provides: "Base layout with Tailwind"
      min_lines: 20
    - path: "bambini-fussball/src/pages/index.astro"
      provides: "Homepage using layout"
      min_lines: 10
  key_links:
    - from: "bambini-fussball/src/pages/index.astro"
      to: "bambini-fussball/src/layouts/BaseLayout.astro"
      via: "import and usage"
      pattern: "import.*BaseLayout"
    - from: "bambini-fussball/astro.config.mjs"
      to: "@tailwindcss/vite"
      via: "vite plugin"
      pattern: "tailwindcss"
---

<objective>
Initialize Astro 5.x project with Tailwind CSS 4 integration and content collection structure.

Purpose: Establish the technical foundation for the Bambini-Fussball content website with proper URL handling and content organization.

Output: A working Astro project with Tailwind CSS that runs locally with dev server, showing styled content and supporting the content directory structure for trainer, eltern, and vereine categories.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Astro project with Tailwind CSS 4</name>
  <files>
    bambini-fussball/package.json
    bambini-fussball/astro.config.mjs
    bambini-fussball/tsconfig.json
    bambini-fussball/src/styles/global.css
  </files>
  <action>
    1. Create project folder: bambini-fussball/ in the LIA2 directory
    2. Initialize Astro project using `npm create astro@latest bambini-fussball -- --template minimal --no-git --no-install`
    3. Navigate to project folder and install dependencies
    4. Install Tailwind CSS 4: `npm install tailwindcss @tailwindcss/vite`
    5. Configure astro.config.mjs:
       - Import tailwindcss from '@tailwindcss/vite'
       - Add to vite.plugins array
       - Set trailingSlash: 'always'
       - Set output: 'static' (explicit for Cloudflare Pages)
    6. Create src/styles/global.css with:
       ```css
       @import "tailwindcss";
       ```
    7. Update tsconfig.json to include strict mode and proper paths

    Technical notes:
    - Use @tailwindcss/vite (NOT @astrojs/tailwind - deprecated for Tailwind v4)
    - Tailwind v4 uses CSS-first configuration via @import, no tailwind.config.js needed
    - trailingSlash: 'always' ensures /trainer/ pattern
  </action>
  <verify>
    - package.json contains "tailwindcss" and "@tailwindcss/vite" dependencies
    - astro.config.mjs has trailingSlash: 'always'
    - src/styles/global.css exists with @import "tailwindcss"
  </verify>
  <done>
    Astro project created with Tailwind CSS 4 configured via @tailwindcss/vite plugin, trailingSlash set to 'always'
  </done>
</task>

<task type="auto">
  <name>Task 2: Set up content collections and base layout</name>
  <files>
    bambini-fussball/src/content.config.ts
    bambini-fussball/src/content/trainer/.gitkeep
    bambini-fussball/src/content/eltern/.gitkeep
    bambini-fussball/src/content/vereine/.gitkeep
    bambini-fussball/src/layouts/BaseLayout.astro
    bambini-fussball/src/pages/index.astro
  </files>
  <action>
    1. Create src/content.config.ts with Content Layer API:
       ```typescript
       import { defineCollection, z } from 'astro:content';

       const articleSchema = z.object({
         title: z.string(),
         description: z.string(),
         pubDate: z.date(),
         updatedDate: z.date().optional(),
         author: z.string().default('Redaktion'),
       });

       const trainer = defineCollection({
         type: 'content',
         schema: articleSchema,
       });

       const eltern = defineCollection({
         type: 'content',
         schema: articleSchema,
       });

       const vereine = defineCollection({
         type: 'content',
         schema: articleSchema,
       });

       export const collections = { trainer, eltern, vereine };
       ```
    2. Create content directories with .gitkeep files:
       - src/content/trainer/.gitkeep
       - src/content/eltern/.gitkeep
       - src/content/vereine/.gitkeep
    3. Create src/layouts/BaseLayout.astro:
       - Import global.css
       - Include proper HTML5 structure with lang="de"
       - Add viewport meta tag
       - Use slot for content
       - Add basic Tailwind classes (bg-white, text-gray-900, font-sans)
    4. Update src/pages/index.astro:
       - Import and use BaseLayout
       - Add simple homepage content with Tailwind classes
       - Include heading "Bambini-Fussball Deutschland"
       - Add placeholder sections for Trainer, Eltern, Vereine categories

    Technical notes:
    - Content Layer API uses src/content.config.ts (not src/content/config.ts)
    - Use type: 'content' for Markdown files
    - German language: lang="de" in html tag
  </action>
  <verify>
    - src/content.config.ts exports collections with trainer, eltern, vereine
    - src/content/trainer/, src/content/eltern/, src/content/vereine/ directories exist
    - src/layouts/BaseLayout.astro imports global.css and has proper structure
    - src/pages/index.astro uses BaseLayout component
  </verify>
  <done>
    Content collection schema defined for three categories, BaseLayout created with Tailwind, homepage renders with layout
  </done>
</task>

<task type="auto">
  <name>Task 3: Verify dev server and Tailwind rendering</name>
  <files>None (verification only)</files>
  <action>
    1. Run `npm run dev` in bambini-fussball/ directory
    2. Open browser to localhost URL shown in terminal
    3. Verify:
       - Page loads without errors
       - Tailwind classes are applied (check background, text color, fonts)
       - No console errors
       - Page title shows correctly
    4. Test trailing slash behavior:
       - Navigate to /test (should redirect to /test/)
    5. Stop dev server after verification

    If errors occur:
    - Check astro.config.mjs for correct vite plugin syntax
    - Verify global.css is imported in BaseLayout
    - Check for TypeScript errors in content.config.ts
  </action>
  <verify>
    - `npm run dev` starts without errors
    - Browser shows styled page at localhost
    - Tailwind classes render visibly (not unstyled HTML)
    - No JavaScript console errors
  </verify>
  <done>
    Dev server runs, Tailwind CSS renders correctly, page displays styled content
  </done>
</task>

</tasks>

<verification>
Run these commands from bambini-fussball/ directory:

1. `npm run dev` - Server starts on localhost
2. Open browser - Page renders with Tailwind styling
3. Check Network tab - CSS loads correctly
4. `npm run build` - Build completes without errors
5. Check dist/ folder - Static files generated with trailing slashes in paths
</verification>

<success_criteria>
1. Astro dev server runs locally with `npm run dev`
2. Homepage displays with Tailwind CSS styling applied
3. astro.config.mjs has trailingSlash: 'always' configured
4. Content collection directories exist: src/content/trainer/, eltern/, vereine/
5. `npm run build` completes successfully
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
