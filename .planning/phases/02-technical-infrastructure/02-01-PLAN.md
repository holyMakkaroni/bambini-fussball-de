---
phase: 02-technical-infrastructure
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - bambini-fussball/astro.config.mjs
  - bambini-fussball/src/pages/index.astro
  - bambini-fussball/src/assets/.gitkeep
autonomous: true

must_haves:
  truths:
    - "All interactive elements have minimum 44x44px touch targets"
    - "Image optimization is configured for future images"
    - "Assets folder structure exists for optimized images"
  artifacts:
    - path: "bambini-fussball/astro.config.mjs"
      provides: "Image layout configuration"
      contains: "image:"
    - path: "bambini-fussball/src/pages/index.astro"
      provides: "Touch-friendly interactive elements"
      contains: "min-h-[44px]"
    - path: "bambini-fussball/src/assets/.gitkeep"
      provides: "Assets folder for optimized images"
  key_links:
    - from: "astro.config.mjs"
      to: "all Image components"
      via: "image.layout configuration"
      pattern: "layout.*constrained"
---

<objective>
Configure responsive image optimization and update interactive elements to meet mobile touch target requirements.

Purpose: Prepare infrastructure for Core Web Vitals compliance - image optimization prevents CLS, touch targets improve mobile usability.

Output: Updated astro.config.mjs with image configuration, touch-friendly index.astro, and assets folder structure.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-technical-infrastructure/02-RESEARCH.md
@bambini-fussball/astro.config.mjs
@bambini-fussball/src/pages/index.astro
@bambini-fussball/src/layouts/BaseLayout.astro
</context>

<tasks>

<task type="auto">
  <name>Task 1: Configure image optimization and create assets structure</name>
  <files>
    bambini-fussball/astro.config.mjs
    bambini-fussball/src/assets/.gitkeep
  </files>
  <action>
1. Update astro.config.mjs to add image optimization configuration:
   - Add `image: { layout: 'constrained', responsiveStyles: true }` to the defineConfig
   - This enables automatic srcset generation and CLS prevention for all future Image components
   - Keep existing output, trailingSlash, and vite configuration

2. Create src/assets/ folder with .gitkeep:
   - This is where optimized images will be placed (NOT public/)
   - Images in src/assets/ are processed by Astro's build pipeline
   - Images in public/ are served unoptimized (anti-pattern per research)

Note: Do NOT use experimental fonts API yet - it requires additional setup and the current site uses system fonts only.
  </action>
  <verify>
    - `cat bambini-fussball/astro.config.mjs` shows image configuration
    - `ls bambini-fussball/src/assets/` shows .gitkeep file exists
    - `npm run build` in bambini-fussball/ completes without errors
  </verify>
  <done>
    - astro.config.mjs contains image.layout: 'constrained' and image.responsiveStyles: true
    - src/assets/ folder exists for future optimized images
    - Build succeeds with new configuration
  </done>
</task>

<task type="auto">
  <name>Task 2: Update interactive elements with touch-friendly sizing</name>
  <files>
    bambini-fussball/src/pages/index.astro
  </files>
  <action>
1. Update all anchor tags in index.astro to have minimum 44x44px touch targets:
   - Add `class="... min-h-[44px] inline-flex items-center ..."` to each "Mehr erfahren" link
   - The 44x44px minimum is WCAG 2.5.5 requirement for touch accessibility
   - Tailwind's min-h-[44px] ensures vertical touch target size
   - inline-flex items-center ensures text is vertically centered in the touch area

2. Current links:
   ```html
   <a href="/trainer/" class="text-green-600 hover:text-green-800 font-medium">
   ```

   Should become:
   ```html
   <a href="/trainer/" class="inline-flex items-center min-h-[44px] text-green-600 hover:text-green-800 font-medium">
   ```

3. Apply the same pattern to all three category links (trainer, eltern, vereine).

Note: The cards themselves are already large touch targets, but the individual links inside need explicit sizing for accessibility compliance.
  </action>
  <verify>
    - `grep -n "min-h-\[44px\]" bambini-fussball/src/pages/index.astro` shows 3 matches (one per link)
    - `npm run dev` in bambini-fussball/ and visual inspection shows links are vertically centered
    - Links remain visually similar but with proper touch target area
  </verify>
  <done>
    - All three "Mehr erfahren" links have min-h-[44px] class
    - Links use inline-flex items-center for proper vertical alignment
    - Visual appearance is clean and links are easily tappable on mobile
  </done>
</task>

</tasks>

<verification>
After completing both tasks:
1. Run `npm run build` - should complete without errors
2. Run `npm run dev` and inspect the page
3. Use browser dev tools to verify link touch targets are at least 44px tall
4. Confirm astro.config.mjs has image configuration ready for future images
</verification>

<success_criteria>
- astro.config.mjs includes image.layout: 'constrained' configuration
- src/assets/ folder exists for future optimized image placement
- All interactive links have min-h-[44px] touch targets
- Build completes successfully
- Site renders correctly in dev server
</success_criteria>

<output>
After completion, create `.planning/phases/02-technical-infrastructure/02-01-SUMMARY.md`
</output>
