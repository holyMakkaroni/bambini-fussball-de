---
phase: 02-technical-infrastructure
plan: 02
type: execute
wave: 2
depends_on: ["02-01"]
files_modified:
  - .planning/phases/02-technical-infrastructure/02-BASELINE.md
autonomous: false

must_haves:
  truths:
    - "Core Web Vitals baseline is measured and documented"
    - "LCP is under 2.5 seconds on mobile"
    - "CLS is under 0.1"
    - "Site passes mobile-friendliness check"
  artifacts:
    - path: ".planning/phases/02-technical-infrastructure/02-BASELINE.md"
      provides: "Core Web Vitals baseline documentation"
      contains: "LCP"
      min_lines: 20
  key_links:
    - from: "PageSpeed Insights"
      to: "02-BASELINE.md"
      via: "documented metrics"
      pattern: "LCP.*[0-9]"
---

<objective>
Measure and document Core Web Vitals baseline for the deployed site, verify mobile-friendliness, and establish performance benchmarks.

Purpose: Requirements TECH-01 and TECH-02 require measurable proof of mobile-friendliness and Core Web Vitals compliance. This plan creates that documentation.

Output: 02-BASELINE.md with Lighthouse scores, Core Web Vitals metrics, and mobile-friendliness verification.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-technical-infrastructure/02-RESEARCH.md
@.planning/STATE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Measure Core Web Vitals via PageSpeed Insights API</name>
  <files>
    .planning/phases/02-technical-infrastructure/02-BASELINE.md
  </files>
  <action>
1. The deployed site URL is: https://bambini-fussball.pages.dev/

2. Use curl to fetch PageSpeed Insights data:
   ```bash
   curl -s "https://www.googleapis.com/pagespeedonline/v5/runPagespeed?url=https://bambini-fussball.pages.dev/&strategy=mobile&category=performance&category=accessibility" | jq '.'
   ```

   If jq is not available, save raw JSON and extract key metrics manually.

3. Extract and document these metrics:
   - Performance Score (0-100)
   - LCP (Largest Contentful Paint) - target: < 2.5s
   - CLS (Cumulative Layout Shift) - target: < 0.1
   - TBT (Total Blocking Time) - proxy for INP
   - Speed Index
   - First Contentful Paint

4. Create 02-BASELINE.md with:
   - Test date and URL
   - Mobile performance metrics table
   - Pass/fail status for each Core Web Vital
   - Any warnings or opportunities flagged

5. If API call fails (rate limiting, network issues), document that and note the checkpoint will verify manually.

Note: PageSpeed Insights API is free and does not require an API key for basic usage.
  </action>
  <verify>
    - 02-BASELINE.md exists in the phase directory
    - File contains LCP, CLS, and performance score values
    - Metrics are clearly formatted in a table
  </verify>
  <done>
    - 02-BASELINE.md created with Core Web Vitals metrics
    - LCP value is documented (target < 2.5s)
    - CLS value is documented (target < 0.1)
    - Performance score is documented
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Core Web Vitals baseline measurement and mobile optimization from Plan 02-01.
  </what-built>
  <how-to-verify>
    1. Visit https://pagespeed.web.dev/ in your browser
    2. Enter URL: https://bambini-fussball.pages.dev/
    3. Run analysis (Mobile mode)
    4. Verify:
       - Performance score is green (90+) or at least yellow (50-89)
       - LCP is < 2.5s (green)
       - CLS is < 0.1 (green)
       - No critical accessibility warnings for touch targets

    5. On your phone (or Chrome DevTools mobile emulation):
       - Visit https://bambini-fussball.pages.dev/
       - Verify the three category links are easily tappable
       - Verify text is readable without zooming
       - Verify layout adapts to narrow screen (cards stack vertically)

    6. Cross-check against documented baseline in 02-BASELINE.md
  </how-to-verify>
  <resume-signal>
    Type "approved" if Core Web Vitals meet targets and mobile experience is good.
    If issues found, describe them for follow-up.
  </resume-signal>
</task>

</tasks>

<verification>
Phase 2 is complete when:
1. 02-BASELINE.md documents all Core Web Vitals metrics
2. LCP < 2.5s verified (TECH-02)
3. CLS < 0.1 verified (TECH-02)
4. Mobile-friendly layout verified (TECH-01)
5. Touch targets are 44px+ (TECH-01)
6. Human has verified via PageSpeed Insights and mobile testing
</verification>

<success_criteria>
- 02-BASELINE.md exists with documented metrics
- LCP is under 2.5 seconds
- CLS is under 0.1
- Site passes mobile-friendliness visual check
- Human approval received
</success_criteria>

<output>
After completion, create `.planning/phases/02-technical-infrastructure/02-02-SUMMARY.md`
</output>
