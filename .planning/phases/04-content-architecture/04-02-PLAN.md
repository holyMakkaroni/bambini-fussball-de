---
phase: 04-content-architecture
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - bambini-fussball/src/components/ArticleCard.astro
  - bambini-fussball/src/pages/trainer/index.astro
  - bambini-fussball/src/pages/eltern/index.astro
  - bambini-fussball/src/pages/vereine/index.astro
autonomous: true

must_haves:
  truths:
    - "User can visit /trainer/ and see category overview page"
    - "User can visit /eltern/ and see category overview page"
    - "User can visit /vereine/ and see category overview page"
    - "Category pages show placeholder text when no articles exist"
  artifacts:
    - path: "bambini-fussball/src/pages/trainer/index.astro"
      provides: "Trainer pillar page"
      contains: "getCollection"
    - path: "bambini-fussball/src/pages/eltern/index.astro"
      provides: "Eltern pillar page"
      contains: "getCollection"
    - path: "bambini-fussball/src/pages/vereine/index.astro"
      provides: "Vereine pillar page"
      contains: "getCollection"
    - path: "bambini-fussball/src/components/ArticleCard.astro"
      provides: "Reusable article preview component"
      min_lines: 15
  key_links:
    - from: "bambini-fussball/src/pages/trainer/index.astro"
      to: "astro:content"
      via: "getCollection import"
      pattern: "getCollection.*trainer"
---

<objective>
Create the three pillar category pages and ArticleCard component.

Purpose: Establish the content architecture with dedicated overview pages for each target audience (Trainer, Eltern, Vereine) that will list articles as they are added.

Output: Three functional category pages at /trainer/, /eltern/, /vereine/ with article listing capability.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/04-content-architecture/04-RESEARCH.md

Key patterns from research:
- Use getCollection('collectionName') to fetch articles
- Sort articles by pubDate (newest first)
- Use article.id for URLs (not slug - Astro 5 change)
- Handle empty state when no articles exist
- Match color scheme from homepage cards
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create ArticleCard component</name>
  <files>bambini-fussball/src/components/ArticleCard.astro</files>
  <action>
Create reusable ArticleCard component for displaying article previews on category pages:

```astro
---
// src/components/ArticleCard.astro
import type { CollectionEntry } from 'astro:content';

interface Props {
  article: CollectionEntry<'trainer'> | CollectionEntry<'eltern'> | CollectionEntry<'vereine'>;
  basePath: string;
}

const { article, basePath } = Astro.props;
const { title, description, pubDate } = article.data;
---

<article class="bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow">
  <h2 class="text-xl font-semibold text-gray-900 mb-2">
    <a href={`${basePath}${article.id}/`} class="hover:text-green-700">
      {title}
    </a>
  </h2>
  <p class="text-gray-600 mb-4">{description}</p>
  <time
    datetime={pubDate.toISOString()}
    class="text-sm text-gray-500"
  >
    {pubDate.toLocaleDateString('de-DE', {
      year: 'numeric',
      month: 'long',
      day: 'numeric'
    })}
  </time>
</article>
```

Key details:
- Uses CollectionEntry type for proper typing
- basePath prop allows reuse across categories (e.g., '/trainer/', '/eltern/')
- Includes article.id in URL (Astro 5 uses id, not slug)
- Trailing slash on href (Astro config requirement)
- German date formatting (de-DE locale)

WHY: DRY - same card structure used on all three category pages.
  </action>
  <verify>File exists and TypeScript types are valid (no IDE errors)</verify>
  <done>ArticleCard.astro created with typed props, German date formatting, and proper URL construction</done>
</task>

<task type="auto">
  <name>Task 2: Create three pillar category pages</name>
  <files>bambini-fussball/src/pages/trainer/index.astro, bambini-fussball/src/pages/eltern/index.astro, bambini-fussball/src/pages/vereine/index.astro</files>
  <action>
Create directory structure and three category pages. Each page follows the same pattern but with category-specific content.

1. Create bambini-fussball/src/pages/trainer/index.astro:
```astro
---
import { getCollection } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';
import ArticleCard from '../../components/ArticleCard.astro';

const articles = await getCollection('trainer');
const sortedArticles = articles.sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
---

<BaseLayout
  title="Trainer-Ratgeber | Bambini-Fussball"
  description="Trainingstipps, Ubungen und Methodik fur die Arbeit mit 4-6-jahrigen Fussballern"
>
  <main class="flex-1 container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold text-green-700 mb-6">Fur Trainer</h1>
    <p class="text-lg text-gray-600 mb-8 max-w-3xl">
      Trainingstipps, Ubungen und Methodik fur die Arbeit mit 4-6-jahrigen Fussballern.
      Alles was Sie fur ein erfolgreiches Bambini-Training brauchen.
    </p>

    {sortedArticles.length > 0 ? (
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        {sortedArticles.map((article) => (
          <ArticleCard article={article} basePath="/trainer/" />
        ))}
      </div>
    ) : (
      <p class="text-gray-500 italic">Artikel folgen in Kurze.</p>
    )}
  </main>
</BaseLayout>
```

2. Create bambini-fussball/src/pages/eltern/index.astro:
- Same structure as trainer
- Change collection to 'eltern'
- Change title to "Eltern-Ratgeber | Bambini-Fussball"
- Change description to "Alles was Eltern uber Bambini-Fussball wissen mussen - von der Ausrustung bis zur Forderung"
- Change h1 to "Fur Eltern" with text-blue-700
- Change basePath to "/eltern/"
- Intro text: "Grundlagen zum Kinderfussball, haufige Fragen und Tipps zur Forderung Ihres Kindes im Bambini-Alter."

3. Create bambini-fussball/src/pages/vereine/index.astro:
- Same structure as trainer
- Change collection to 'vereine'
- Change title to "Vereine-Ratgeber | Bambini-Fussball"
- Change description to "Organisation und Aufbau einer Bambini-Abteilung - Best Practices fur Vereine"
- Change h1 to "Fur Vereine" with text-amber-700
- Change basePath to "/vereine/"
- Intro text: "Organisation und Aufbau einer erfolgreichen Bambini-Abteilung. Best Practices und Organisationstipps fur Vereine."

Key details:
- All pages use getCollection and sort by pubDate
- Empty state handled with "Artikel folgen in Kurze."
- Color scheme matches homepage cards (green/blue/amber)
- main has flex-1 for proper layout with footer

WHY: Three pillar pages are the core of the pillar-cluster SEO architecture (CONT-01, CONT-02).
  </action>
  <verify>Run `npm run build` - all three pages should build. Visit each URL in dev server to confirm they render.</verify>
  <done>Three category pages exist at /trainer/, /eltern/, /vereine/ with article listing capability and empty state handling</done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. Visit http://localhost:4321/trainer/ - page renders with "Fur Trainer" heading
3. Visit http://localhost:4321/eltern/ - page renders with "Fur Eltern" heading
4. Visit http://localhost:4321/vereine/ - page renders with "Fur Vereine" heading
5. All pages show "Artikel folgen in Kurze." placeholder (no articles yet)
6. Navigation links from header work to reach each page
</verification>

<success_criteria>
- ArticleCard component exists with TypeScript types
- /trainer/ page exists and renders correctly
- /eltern/ page exists and renders correctly
- /vereine/ page exists and renders correctly
- Empty state displays when no articles in collection
- Pages use consistent color scheme matching homepage
</success_criteria>

<output>
After completion, create `.planning/phases/04-content-architecture/04-02-SUMMARY.md`
</output>
