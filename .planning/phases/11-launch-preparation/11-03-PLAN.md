---
phase: 11-launch-preparation
plan: 03
type: execute
wave: 2
depends_on: ["11-01", "11-02"]
files_modified:
  - bambini-fussball/src/pages/impressum.astro
  - bambini-fussball/src/pages/datenschutz.astro
autonomous: false

must_haves:
  truths:
    - "All placeholder contact info replaced with real data"
    - "Site passes pre-launch verification checklist"
    - "All pages are reachable and render correctly"
    - "Sitemap and robots.txt verified accessible on live site"
  artifacts:
    - path: "bambini-fussball/src/pages/impressum.astro"
      provides: "Legal Impressum with real contact info"
      contains: "no placeholder brackets"
    - path: "bambini-fussball/src/pages/datenschutz.astro"
      provides: "Privacy policy with real contact info"
      contains: "no placeholder brackets"
  key_links:
    - from: "production deployment"
      to: "/sitemap-index.xml"
      via: "HTTP request"
      pattern: "200 OK"
    - from: "production deployment"
      to: "/robots.txt"
      via: "HTTP request"
      pattern: "200 OK"
---

<objective>
Complete pre-launch checklist including placeholder replacement and final verification.

Purpose: Ensure site is legally compliant and technically ready for public launch and search engine indexing.
Output: Verified production-ready website with all placeholders replaced.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Files with placeholder content
@bambini-fussball/src/pages/impressum.astro
@bambini-fussball/src/pages/datenschutz.astro

# Plan outputs to verify
@.planning/phases/11-launch-preparation/11-01-SUMMARY.md
@.planning/phases/11-launch-preparation/11-02-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Automated pre-launch smoke tests</name>
  <files>none (verification only)</files>
  <action>
Run automated verification checks:

1. Build verification:
   ```bash
   cd bambini-fussball && npm run build
   ```
   - Should complete without errors
   - Should generate sitemap files

2. Sitemap verification:
   ```bash
   cat dist/sitemap-index.xml
   cat dist/sitemap-0.xml | head -50
   ```
   - Should contain valid XML
   - Should list all expected URLs

3. robots.txt verification:
   ```bash
   cat dist/robots.txt
   ```
   - Should contain Allow directive
   - Should reference sitemap URL

4. Page count verification:
   ```bash
   find dist -name "*.html" | wc -l
   ```
   - Should be 30+ pages (1 index + 3 categories + ~28 articles + 3 legal/about + author pages)

5. Link check (basic):
   ```bash
   grep -r "href=" dist/*.html | grep -c "href="
   ```
   - Verify internal links exist

6. Check for placeholder remnants:
   ```bash
   grep -r "\[.*\]" dist/impressum/index.html dist/datenschutz/index.html 2>/dev/null || echo "No placeholders in dist"
   ```
   - Note: Will likely find placeholders - this is expected before user replacement
  </action>
  <verify>
Build completes successfully.
Sitemap files are valid XML.
robots.txt has correct content.
Page count matches expected (~35+ HTML files).
  </verify>
  <done>Automated smoke tests pass for sitemap, robots.txt, and page generation</done>
</task>

<task type="checkpoint:human-action" gate="blocking">
  <name>Task 2: Replace placeholder contact information</name>
  <action>User must replace placeholder text in Impressum and Datenschutz pages with real contact information.</action>
  <instructions>
The following files contain placeholder contact information that MUST be replaced before public launch:

**1. src/pages/impressum.astro**
Replace these placeholders with your real information:
- `[Vorname Nachname]` -> Your full name
- `[Strasse Nr.]` -> Your street address
- `[PLZ Ort]` -> Your postal code and city
- `[email@example.de]` -> Your contact email

**2. src/pages/datenschutz.astro**
Replace the same contact placeholders (name, address, email).

**Why this cannot be automated:**
German law (DDG/DSGVO) requires the website operator's real identity. This personal data must come directly from you.

**To complete:**
1. Open both files in your editor
2. Search for `[` to find all placeholders
3. Replace with your real contact information
4. Save both files
5. Run `npm run build` to verify changes
6. Type "done" or "completed" to continue

**Alternative:**
If you want to keep placeholders for now (testing/staging only), type "skip" - but note the site should NOT be submitted to search engines until this is complete.
  </instructions>
  <resume-signal>Type "done", "completed", or "skip"</resume-signal>
</task>

<task type="auto">
  <name>Task 3: Final build and deployment verification</name>
  <files>none (verification only)</files>
  <action>
After placeholder replacement (or skip), run final verification:

1. Clean build:
   ```bash
   cd bambini-fussball && rm -rf dist && npm run build
   ```

2. Verify no placeholder remnants (if user completed replacement):
   ```bash
   grep -r "\[" dist/impressum/index.html dist/datenschutz/index.html | grep -v "href=" | grep -v "class=" || echo "Clean - no placeholders"
   ```

3. Preview locally:
   ```bash
   npm run preview
   ```
   Test these URLs manually (or via curl):
   - http://localhost:4321/
   - http://localhost:4321/sitemap-index.xml
   - http://localhost:4321/robots.txt
   - http://localhost:4321/impressum/
   - http://localhost:4321/trainer/

4. Provide summary of what was verified and site readiness status.
  </action>
  <verify>
Build completes without errors.
If placeholders replaced: grep finds no bracket patterns in legal pages.
Preview server starts successfully.
Key URLs return expected content.
  </verify>
  <done>Final verification complete - site ready for launch (or noted as staging-only if placeholders remain)</done>
</task>

</tasks>

<verification>
Pre-launch checklist:
- [ ] Build completes without errors
- [ ] Sitemap generated with all pages
- [ ] robots.txt accessible with correct content
- [ ] OG default image exists
- [ ] Impressum has real contact info (or documented as pending)
- [ ] Datenschutz has real contact info (or documented as pending)
- [ ] All category pages render correctly
- [ ] Sample articles render correctly
- [ ] Legal pages accessible from footer
</verification>

<success_criteria>
- Site passes all automated smoke tests
- User has addressed placeholder content (replaced or acknowledged skip)
- Site is documented as "launch ready" or "staging only pending legal info"
- Phase 11 requirements TECH-03, TECH-04 verified complete
</success_criteria>

<output>
After completion, create `.planning/phases/11-launch-preparation/11-03-SUMMARY.md`
</output>
