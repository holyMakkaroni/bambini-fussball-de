{% sw_extends '@Storefront/storefront/component/line-item/element/quantity.html.twig' %}

{% block component_line_item_quantity_inner %}
    {% if showQuantitySelect and lineItem.quantityInformation and lineItem.stackable and nestingLevel < 1 %}
        <form action="{{ formAction }}"
              name="changeQuantityForm"
              class="line-item-quantity-container {% if isDigital %}disabled{% endif %}"
              method="post"
              data-form-submit-loader="true"
              data-form-submit-loader-options="{{ {
                  skipLoadingIndicator: true
              }|json_encode }}">
            <input type="hidden"
                   name="redirectTo"
                   value="{{ redirectTo }}">
            <input type="hidden"
                   name="redirectParameters"
                   value="{{ redirectParameters }}">

            <select name="quantity" id="quantity-{{ lineItem.id }}" onchange="this.form.submit()" {% if isDigital %}disabled="disabled"{% endif %}>
                {% for quantity in range(1, 10) %}
                    <option value="{{ quantity }}" {% if quantity == lineItem.quantity %}selected{% endif %}>{{ quantity }}</option>
                {% endfor %}
            </select>
        </form>
    {% else %}
        {{ lineItem.quantity }}
    {% endif %}
{% endblock %}
