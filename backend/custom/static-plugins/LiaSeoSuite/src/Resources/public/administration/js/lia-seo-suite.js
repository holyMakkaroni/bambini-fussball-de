!function(){var e={364:function(){},288:function(){Shopware.Service("privileges").addPrivilegeMappingEntry({category:"additional_permissions",parent:null,key:"liaSeoSuite",roles:{propertyEditFilterName:{privileges:["lia_seoSuite_property_group_filter:update"],dependencies:[]},propertyEditOptionValue:{privileges:["lia_seoSuite_property_group_option:update"],dependencies:[]}}})},445:function(){"use strict";let{Component:e,Context:t}=Shopware,{Criteria:r,EntityCollection:o}=Shopware.Data,{mapState:i,mapGetters:s}=e.getComponentHelper();Shopware.Component.register("sw-category-filter-properties-form",{template:'\n{% block sw_product_properties_card %}\n  <sw-card\n      class="sw-product-properties__card"\n      :class="{\n                \'is--inherited\': isInherited,\n                \'is--disabled\': disabled,\n            }"\n      position-identifier="sw-product-properties"\n      :is-loading="isLoading"\n  >\n    <template #title>\n      \n      {% block sw_product_properties_card_title %}\n        <div\n            class="sw-card__title">\n          \n          {% block sw_product_properties_card_title_text %}\n            {{ $tc(\'liaSeoSuite.sw-category.view.properties\') }}\n          {% endblock %}\n        </div>\n      {% endblock %}\n    </template>\n\n    <template\n        v-if="categoryHasProperties"\n        #grid\n    >\n      \n      {% block sw_product_properties_filled_state %}\n        <sw-container rows="auto auto">\n          \n          {% block sw_product_properties_filled_state_header %}\n            <sw-card-section\n                secondary\n                divider="bottom"\n            >\n              <sw-container\n                  columns="1fr auto"\n                  gap="0 15px"\n              >\n                \n                {% block sw_product_properties_filled_state_header_form_control %}\n                  <sw-simple-search-field\n                      v-model:value="searchTerm"\n                      variant="form"\n                      size="small"\n                      :placeholder="$tc(\'sw-product.properties.placeholderSearchAddedProperties\')"\n                      :disabled="isPropertiesLoading"\n                      @search-term-change="onChangeSearchTerm"\n                  />\n                {% endblock %}\n\n                \n                {% block sw_product_properties_filled_state_header_button %}\n                  <sw-button\n                      v-tooltip="{\n                                    message: $tc(\'sw-privileges.tooltip.warning\'),\n                                    disabled: acl.can(\'product.editor\'),\n                                    showOnDisabledElements: true\n                                }"\n                      class="sw-product-properties__button-add-property"\n                      variant="ghost"\n                      size="small"\n                      :disabled="!acl.can(\'product.editor\')"\n                      @click="turnOnAddPropertiesModal"\n                  >\n                    {{ $tc(\'sw-product.properties.buttonAddProperty\') }}\n                  </sw-button>\n                {% endblock %}\n              </sw-container>\n            </sw-card-section>\n          {% endblock %}\n\n          \n          {% block sw_product_properties_filled_state_body_filled_state %}\n            <sw-entity-listing\n                v-if="properties.length > 0"\n                ref="entityListing"\n                class="sw-product-properties__list"\n                detail-route="sw.property.detail"\n                identifier="sw-product-properties-list"\n                plain-appearance\n                :items="properties"\n                :data-source="properties"\n                :columns="propertyColumns"\n                :repository="propertyGroupRepository"\n                :full-page="false"\n                :show-settings="false"\n                :allow-column-edit="false"\n                :allow-inline-edit="false"\n                :allow-view="acl.can(\'product.viewer\')"\n                :allow-edit="acl.can(\'property.editor\')"\n                :allow-delete="acl.can(\'product.deleter\')"\n            >\n              <template #column-values="{ item }">\n                \n                {% block sw_product_properties_filled_state_body_filled_state_column_values %}\n                  <div\n                      v-for="option in item.options"\n                      :key="option.id"\n                      class="sw-product-properties-list__column-values"\n                  >\n                    <sw-label\n                        size="medium"\n                        :dismissable="acl.can(\'product.deleter\')"\n                        @dismiss="onDeletePropertyValue(option)"\n                    >\n                      {{ option.translated.name }}\n                    </sw-label>\n                  </div>\n                {% endblock %}\n              </template>\n\n              <template #delete-modal-delete-item="{ item }">\n                \n                {% block sw_product_properties_filled_state_body_filled_state_delete_modal_delete_item %}\n                  <sw-button\n                      variant="danger"\n                      size="small"\n                      @click="onDeleteProperty(item)"\n                  >\n                    {{ $tc(\'global.default.delete\') }}\n                  </sw-button>\n                {% endblock %}\n              </template>\n\n              <template #bulk-modal-delete-items>\n                \n                {% block sw_product_properties_filled_state_body_filled_state_bulk_modal_delete_items %}\n                  <sw-button\n                      variant="danger"\n                      size="small"\n                      @click="onDeleteProperties"\n                  >\n                    {{ $tc(\'global.default.delete\') }}\n                  </sw-button>\n                {% endblock %}\n              </template>\n            </sw-entity-listing>\n          {% endblock %}\n\n          \n          {% block sw_product_properties_filled_state_body_empty_state %}\n            <sw-empty-state\n                v-if="properties.length <= 0"\n                class="sw-product-properties__empty-state has--no-search-result"\n                :absolute="false"\n                :show-description="false"\n                :title="$tc(\'sw-product.properties.titleEmptyStateList\')"\n            >\n              <template #icon>\n                \n                {% block sw_product_properties_filled_state_body_empty_state_image %}\n                  <img\n                      :src="assetFilter(\'/administration/static/img/empty-states/products-empty-state.svg\')"\n                      :alt="$tc(\'sw-product.properties.titleEmptyStateList\')"\n                  >\n                {% endblock %}\n              </template>\n            </sw-empty-state>\n          {% endblock %}\n\n          \n          {% block sw_product_properties_filled_state_body_loading_state %}\n            <sw-loader v-if="isPropertiesLoading" />\n          {% endblock %}\n        </sw-container>\n      {% endblock %}\n    </template>\n\n    \n    {% block sw_product_properties_empty_state %}\n      <sw-empty-state\n          v-if="!categoryHasProperties"\n          class="sw-product-properties__empty-state has--no-properties"\n          :absolute="false"\n          :show-description="false"\n          :title="$tc(\'liaSeoSuite.sw-category.view.titleEmptyState\')"\n      >\n        <template #icon>\n          \n          {% block sw_product_properties_empty_state_image %}\n            <img\n                :src="assetFilter(\'/administration/static/img/empty-states/settings-empty-state.svg\')"\n                :alt="$tc(\'liaSeoSuite.sw-category.view.titleEmptyState\')"\n            >\n          {% endblock %}\n        </template>\n\n        <template #actions>\n          \n          {% block sw_product_properties_empty_state_button %}\n            <sw-button\n                v-tooltip="{\n                            message: $tc(\'sw-privileges.tooltip.warning\'),\n                            disabled: acl.can(\'product.editor\'),\n                            showOnDisabledElements: true\n                        }"\n                variant="ghost"\n                :disabled="!acl.can(\'product.editor\')"\n                @click="turnOnAddPropertiesModal"\n            >\n              {{ $tc(\'sw-product.properties.buttonAddProperties\') }}\n            </sw-button>\n          {% endblock %}\n        </template>\n      </sw-empty-state>\n    {% endblock %}\n  </sw-card>\n{% endblock %}\n\n\n{% block sw_product_properties_add_properties_modal %}\n  <sw-product-add-properties-modal\n      v-if="showAddPropertiesModal"\n      :new-properties="newProperties"\n      :properties-available="propertiesAvailable"\n      @modal-cancel="onCancelAddPropertiesModal"\n      @modal-save="onSaveAddPropertiesModal($event, updateCurrentValue)"\n  />\n{% endblock %}',inject:["repositoryFactory","acl"],props:{disabled:{type:Boolean,required:!1,default:!1},isAssociation:{type:Boolean,required:!1,default:!0},showInheritanceSwitcher:{type:Boolean,required:!1,default:!0}},data(){return{groupIds:[],properties:[],categoryProperties:null,isPropertiesLoading:!1,searchTerm:null,showAddPropertiesModal:!1,newProperties:[],propertiesAvailable:!0}},computed:{propertyGroupRepository(){return this.repositoryFactory.create("property_group")},propertyOptionRepository(){return this.repositoryFactory.create("property_group_option")},propertyGroupCriteria(){let e=new r(1,10);e.addSorting(r.sort("name","ASC",!1)),e.addFilter(r.equalsAny("id",this.groupIds)),this.searchTerm&&e.setTerm(this.searchTerm);let t=this.categoryProperties.getIds();return e.getAssociation("options").addFilter(r.equalsAny("id",t)),e.addFilter(r.equalsAny("options.id",t)),e},propertyColumns(){return[{property:"name",label:"sw-product.properties.columnProperty",sortable:!1,routerLink:"sw.property.detail"},{property:"values",label:"sw-product.properties.columnValue",sortable:!1}]},category(){return Shopware.State.get("swCategoryDetail").category},assetFilter(){return Shopware.Filter.getByName("asset")},categoryHasProperties(){return this.category?.id&&this.groupIds.length>0}},watch:{categoryProperties:{immediate:!0,handler(e){e&&(this.getGroupIds(),this.getProperties(),this.setCustomFieldProperties())}}},created(){this.createdComponent()},methods:{createdComponent(){this.checkIfPropertiesExists(),this.fetchCategoryProperties()},fetchCategoryProperties(){let e=this.category?.customFields?.properties||[];if(!e.length>0)return this.categoryProperties=[],e;this.isPropertiesLoading=!0;let o=new r(1,10);return o.addSorting(r.sort("name","ASC",!1)),o.addFilter(r.equalsAny("id",e)),this.propertyOptionRepository.search(o,t.api).then(e=>{this.categoryProperties=e}).catch(()=>{this.categoryProperties=[]}).finally(()=>{this.isPropertiesLoading=!1})},getGroupIds(){this.category?.id&&(this.groupIds=this.categoryProperties.reduce((e,{groupId:t})=>(0>e.indexOf(t)&&e.push(t),e),[]))},getProperties(){return!this.category?.id||this.groupIds.length<=0?(this.properties=[],this.searchTerm=null,Promise.resolve()):(this.isPropertiesLoading=!0,this.propertyGroupRepository.search(this.propertyGroupCriteria,t.api).then(e=>{this.properties=e}).catch(()=>{this.properties=[]}).finally(()=>{this.isPropertiesLoading=!1}))},onDeletePropertyValue(e){this.categoryProperties.remove(e.id)},onDeleteProperty(e){this.$refs.entityListing.deleteId=null,this.$nextTick(()=>{this.categoryProperties.filter(({groupId:t})=>t===e.id).forEach(({id:e})=>{this.categoryProperties.remove(e)}),this.$refs.entityListing.resetSelection()})},onDeleteProperties(){this.$refs.entityListing.showBulkDeleteModal=!1,this.$nextTick(()=>{Object.values({...this.$refs.entityListing.selection}).forEach(e=>{e.options.forEach(e=>{this.categoryProperties.remove(e.id)})}),this.$refs.entityListing.resetSelection()})},onChangeSearchTerm(e){return this.searchTerm=e,this.getProperties()},turnOnAddPropertiesModal(){this.propertiesAvailable?(this.updateNewProperties(),this.showAddPropertiesModal=!0):this.$router.push({name:"sw.property.index"})},turnOffAddPropertiesModal(){this.showAddPropertiesModal=!1,this.updateNewProperties()},updateNewProperties(){this.newProperties=new o(this.categoryProperties.source,this.categoryProperties.entity,this.categoryProperties.context,r.fromCriteria(this.categoryProperties.criteria),this.categoryProperties,this.categoryProperties.total,this.categoryProperties.aggregations)},onSaveAddPropertiesModal(e,t){this.turnOffAddPropertiesModal(),e.length<=0||(this.categoryProperties=e)},closeAddPropertiesModal(){this.showAddPropertiesModal=!1,this.updateNewProperties()},onCancelAddPropertiesModal(){this.closeAddPropertiesModal()},setCustomFieldProperties(){if(this.categoryProperties.length>0){let e=this.categoryProperties.getIds();this.category.customFields.properties=e}else this.category.customFields={},this.category.customFields.properties=[]},checkIfPropertiesExists(){this.propertyOptionRepository.search(new r(1,1)).then(e=>{this.propertiesAvailable=e.total>0})}}})},496:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});let{Mixin:o}=Shopware,{Criteria:i}=Shopware.Data;var s={template:'{% block sw_property_detail_content_detail_seoSuite %}\n<sw-card\n        v-if="allowEdit"\n        position-identifier="sw-property-detail-base-seo"\n        :title="$tc(\'liaSeoSuite.sw-property.detail.card.title\')"\n        :is-loading="isLoading"\n>\n    <sw-container\n            columns="repeat(2, 1fr)"\n            gap="0px 30px"\n    >\n        <sw-text-field\n                v-model:value="propertyGroup.customFields.filterName"\n                type="text"\n                :label="$tc(\'liaSeoSuite.sw-property.detail.labelFilterName\')"\n                :helpText="$tc(\'liaSeoSuite.sw-property.detail.helpTextFilterName\')"\n                :placeholder="propertyGroup.customFields.filterName" />\n        <sw-number-field\n                numberType="int"\n                v-model:value="propertyGroup.customFields.filterPriority"\n                pattern="[0-9]"\n                :step="1"\n                :label="$tc(\'liaSeoSuite.sw-property.detail.labelFilterPriority\')"\n                :helpText="$tc(\'liaSeoSuite.sw-property.detail.helpTextFilterPriority\')"\n                :placeholder="String(propertyGroup.customFields.filterPriority)" />\n    </sw-container>\n</sw-card>\n{% endblock %}\n',inject:["repositoryFactory"],mixins:[o.getByName("lia-slugify")],props:{propertyGroup:{type:Object,required:!0,default(){return{}}},isLoading:{type:Boolean,default:!1},allowEdit:{type:Boolean,required:!1,default:!0}},data(){return{filterName:"",filterPriority:0}},watch:{"propertyGroup.customFields.filterName":function(e,t){this.propertyGroup.customFields.filterName=this.slugify(e)}},computed:{propertyGroupRepository(){return this.repositoryFactory.create("property_group")},propertyGroupCriteria(){let e=new i;return e.setLimit(10),e.setTotalCountMode(1),this.propertyGroup.id&&e.addFilter(i.not("and",[i.equals("id",this.propertyGroup.id)])),e},shouldInitialiseCustomFields:function(){return null===this.propertyGroup.customFields||"object"!=typeof this.propertyGroup.customFields}},created(){this.shouldInitialiseCustomFields&&this.initialiseCustomFields(),this.propertyGroup.customFields.hasOwnProperty("filterName")?(this.filterName=this.propertyGroup.customFields.filterName,this.filterPriority=this.propertyGroup.customFields.filterPriority):(this.filterName=this.propertyGroup.name,this.propertyGroup.customFields={filterName:this.filterName})},updated(){this.propertyGroup.customFields=this.propertyGroup.customFields||{}},methods:{initialiseCustomFields(){this.propertyGroup.customFields={}}}}},837:function(){let{Mixin:e}=Shopware;e.register("lia-slugify",{methods:{slugify(e){return e?e.toString().toLowerCase().replace(/\s+/g,"-").replace(/á/gi,"a").replace(/ä/gi,"ae").replace(/é/gi,"e").replace(/í/gi,"i").replace(/ó/gi,"o").replace(/ö/gi,"oe").replace(/ú/gi,"u").replace(/ü/gi,"ue").replace(/ñ/gi,"n").replace(/[^\w\-]+/g,"").replace(/--+/g,""):e}}})},160:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var o={template:'\n{% block sw_category_detail_filter_properties %}\n  <div class="sw-category-detail-filter-properties">\n    <sw-category-filter-properties-form />\n  </div>\n{% endblock %}',inject:["acl"],props:{isLoading:{type:Boolean,required:!0}},computed:{category(){return Shopware.State.get("swCategoryDetail").category}}}},963:function(e,t,r){var o=r(364);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),(0,r(534).A)("9bf0ea50",o,!0,{})},534:function(e,t,r){"use strict";function o(e,t){for(var r=[],o={},i=0;i<t.length;i++){var s=t[i],n=s[0],a={id:e+":"+i,css:s[1],media:s[2],sourceMap:s[3]};o[n]?o[n].parts.push(a):r.push(o[n]={id:n,parts:[a]})}return r}r.d(t,{A:function(){return m}});var i,s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var n={},a=s&&(document.head||document.getElementsByTagName("head")[0]),p=null,l=0,d=!1,c=function(){},u=null,h="data-vue-ssr-id",y="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,t,r,i){d=r,u=i||{};var s=o(e,t);return g(s),function(t){for(var r=[],i=0;i<s.length;i++){var a=n[s[i].id];a.refs--,r.push(a)}t?g(s=o(e,t)):s=[];for(var i=0;i<r.length;i++){var a=r[i];if(0===a.refs){for(var p=0;p<a.parts.length;p++)a.parts[p]();delete n[a.id]}}}}function g(e){for(var t=0;t<e.length;t++){var r=e[t],o=n[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(f(r.parts[i]));o.parts.length>r.parts.length&&(o.parts.length=r.parts.length)}else{for(var s=[],i=0;i<r.parts.length;i++)s.push(f(r.parts[i]));n[r.id]={id:r.id,refs:1,parts:s}}}}function w(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function f(e){var t,r,o=document.querySelector("style["+h+'~="'+e.id+'"]');if(o){if(d)return c;o.parentNode.removeChild(o)}if(y){var i=l++;t=b.bind(null,o=p||(p=w()),i,!1),r=b.bind(null,o,i,!0)}else t=v.bind(null,o=w()),r=function(){o.parentNode.removeChild(o)};return t(e),function(o){o?(o.css!==e.css||o.media!==e.media||o.sourceMap!==e.sourceMap)&&t(e=o):r()}}var _=(i=[],function(e,t){return i[e]=t,i.filter(Boolean).join("\n")});function b(e,t,r,o){var i=r?"":o.css;if(e.styleSheet)e.styleSheet.cssText=_(t,i);else{var s=document.createTextNode(i),n=e.childNodes;n[t]&&e.removeChild(n[t]),n.length?e.insertBefore(s,n[t]):e.appendChild(s)}}function v(e,t){var r=t.css,o=t.media,i=t.sourceMap;if(o&&e.setAttribute("media",o),u.ssrId&&e.setAttribute(h,t.id),i&&(r+="\n/*# sourceURL="+i.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var s=t[o]={id:o,exports:{}};return e[o](s,s.exports,r),s.exports}r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="bundles/liaseosuite/",window?.__sw__?.assetPath&&(r.p=window.__sw__.assetPath+"/bundles/liaseosuite/"),function(){"use strict";r(837),r(288),r(496),r(963);let{Component:e,Mixin:t}=Shopware;e.override("sw-property-option-detail",{template:'{% block sw_property_option_detail_media %}\n    {% parent %}\n    <sw-container v-if="acl.can(\'lia_seoSuite_property_group_option:update\')" columns="1fr" class="lia-seo-suite">\n        <h4 class="sw-modal__title">SEO Suite</h4>\n        <sw-text-field\n                v-model:value="currentOption.customFields.optionValue"\n                type="text"\n                :label="$tc(\'liaSeoSuite.sw-property.detail.labelOptionValue\')"\n                :helpText="$tc(\'liaSeoSuite.sw-property.detail.helpTextFilterName\')"\n                :placeholder="currentOption.customFields.optionValue"\n        />\n    </sw-container>\n{% endblock %}\n',inject:["acl"],mixins:[t.getByName("lia-slugify")],watch:{"currentOption.customFields.optionValue":function(e,t){this.currentOption.customFields.optionValue=this.slugify(e)}},computed:{shouldInitialiseCustomFields:function(){return null===this.currentOption.customFields||"object"!=typeof this.currentOption.customFields}},created(){this.shouldInitialiseCustomFields&&this.initialiseCustomFields(),this.currentOption.customFields.hasOwnProperty("optionValue")||(this.currentOption.customFields={optionValue:this.slugify(this.currentOption.name)})},updated(){this.currentOption.customFields=this.currentOption.customFields||{}},methods:{initialiseCustomFields(){this.currentOption.customFields={}}}});let{Component:o}=Shopware;o.override("sw-property-detail",{template:'{% block sw_property_detail_content_detail_base %}\n    {% parent %}\n    <sw-property-detail-seo-suite\n            v-if="propertyGroup"\n            :property-group="propertyGroup"\n            :allow-edit="acl.can(\'lia_seoSuite_property_group_filter:update\')"\n    />\n{% endblock %}\n'});let{Component:i}=Shopware;i.override("sw-category-view",{template:'\n{% block sw_category_view_tabs_seo %}\n    {% parent %}\n\n    <sw-tabs-item\n        v-show="isPage"\n        class="sw-category-detail__tab-properties"\n        :route="{ name: \'sw.category.detail.filterProperties\' }"\n        :title="$tc(\'liaSeoSuite.sw-category.view.properties\')"\n    >{{ $tc(\'liaSeoSuite.sw-category.view.properties\') }}\n    </sw-tabs-item>\n{% endblock %}'}),r(160),r(445),Shopware.Component.register("sw-property-detail-seo-suite",()=>Promise.resolve().then(r.bind(r,496))),Shopware.Component.register("sw-category-filter-properties",()=>Promise.resolve().then(r.bind(r,160))),Shopware.Component.register("sw-category-filter-properties-form",()=>Promise.resolve().then(r.bind(r,445))),Shopware.Module.register("sw-category-tab-filter-properties",{routeMiddleware(e,t){let r="sw.category.detail.filterProperties";"sw.category.detail"===t.name&&t.children.every(e=>e.name!==r)&&t.children.push({name:r,path:"/sw/category/index/:id/filter-properties",component:"sw-category-filter-properties",meta:{parentPath:"sw.category.index"}}),e(t)}})}()}();